<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>A Beginner’s Guide to Using R | Aditya Karanam</title>
  <meta name="description" content="R seems daunting, but it shouldn't be. I write a beginner's guide to using R and estimating regressions in it.">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/blog/2014/08/a-beginners-guide-to-using-r/">
  <link rel="alternate" type="application/rss+xml" title="Aditya Karanam" href="http://localhost:4000/feed.xml" />
<link rel='stylesheet' id='open-sans-css'  href='//fonts.googleapis.com/css?family=Open+Sans%3A300italic%2C400italic%2C600italic%2C300%2C400%2C600&#038;subset=latin%2Clatin-ext&#038;ver=4.2.4' type='text/css' media='all' />
<link href='http://fonts.googleapis.com/css?family=Roboto:200' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Titillium+Web:600italic,600,400,400italic' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="https://www.osu.edu/assets/fonts/webfonts.css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/academicons-1.8.0/css/academicons.css">

<!-- icon, perhaps -->
<link rel="icon" type="image/png" href="/images/icon.png">
<link rel="apple-touch-icon" type="image/png" href="/images/icon-192.png">


<!-- OG protocol -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="A Beginner’s Guide to Using R">
<meta property="og:description" content="R seems daunting, but it shouldn't be. I write a beginner's guide to using R and estimating regressions in it.">
<meta property="og:url" content="http://localhost:4000/blog/2014/08/a-beginners-guide-to-using-r/">
<meta property="og:site_name" content="Aditya Karanam">
<meta property="og:image" content="http://localhost:4000/images/buckeyeprotesteriran.jpg">

<meta property="og:image:width" content="637" />
<meta property="og:image:height" content="403" />

<!-- Twitter cards -->

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@aditya_karanam">
<meta name="twitter:title" content="A Beginner’s Guide to Using R" />
<meta name="twitter:description" content="R seems daunting, but it shouldn't be. I write a beginner's guide to using R and estimating regressions in it." />
<meta name="twitter:url" content="http://localhost:4000/blog/2014/08/a-beginners-guide-to-using-r/" />
<meta name="twitter:image" content="http://localhost:4000/images/buckeyeprotesteriran-card.jpg">


<link rel="author" href=""/>
<meta name="google-site-verification" content="" />
<meta name="msvalidate.01" content="" />
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Aditya Karanam</a>


    <nav class="site-nav">

      <a href="#" class="menu-icon menu.open">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>  

    <div class="trigger"><h1>Main Navigation</h1>

 <ul class="menu">

    
    
     <li><a href="/about/" class="page-link">About</a>
    
    </li>
    
    
     <li><a href="/research/" class="page-link">Research</a>
    
    </li>
    
    
     <li><a href="/cv/" class="page-link">CV</a>
    
    </li>
    
    </ul>


<!-- <ul class="menu">
        <li> <a class="page-link" href="/about">About</a></li>
        <li> <a class="page-link"  href="/blog">Blog</a>
        <li> <a class="page-link" href="/blog">CV</a>
        <li> <a class="page-link" href="/blog">For Students</a></li>
        <li> <a class="page-link"  href="/blog">Research</a></a>
        <li> <a class="page-link" href="/blog">Teaching</a>
<ul class="sub-menu">
	<li><a href="http://svmiller.com/teaching/posc-1020-introduction-to-international-relations/">POSC 1020 – Introduction to International Relations</a></li>
	<li><a href="http://svmiller.com/teaching/posc-3410-quantitative-methods-in-political-science/">POSC 3410 – Quantitative Methods in Political Science</a></li>
	<li><a href="http://svmiller.com/teaching/posc-3610-international-politics-in-crisis/">POSC 3610 – International Politics in Crisis</a></li>
	<li><a href="http://svmiller.com/teaching/posc-3630-united-states-foreign-policy/">POSC 3630 – United States Foreign Policy</a></li>
</ul></li>
        <li> <a class="page-link" href="/blog">Miscellany</a>
<ul class="sub-menu">
	<li><a href="http://svmiller.com/teaching/posc-1020-introduction-to-international-relations/">Clean USAID Greenbook Data</a></li>
	<li><a href="http://svmiller.com/teaching/posc-3410-quantitative-methods-in-political-science/">Journal of Peace Research *.bst File</a></li>
	<li><a href="http://svmiller.com/teaching/posc-3610-international-politics-in-crisis/">My Custom Beamer Style</a></li>
</ul> 

</li>
</ul> -->

     </div>  
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">A Beginner’s Guide to Using R</h1>
    <p class="post-meta">Posted on August 9, 2014 by  steve  

  in
  
  <a href="/categories/#R" title="R">R</a>&nbsp;
  


</p>
  </header>

  <article class="post-content">
    <p>I prefer to teach applied statistical analysis to students using the R programming language as a guide. R is an open source programming language with origins in C and FORTRAN. Statisticians and quantitative researchers are moving to R because of its flexibility. It can handle advanced computational models better than some canned software packages like Stata and SPSS and can permit advanced users to write their own functions. R is also useful because it is free, unlike Stata and SPSS. Any person can download and install R and all its capabilities without needing to shell out hundreds or thousands of dollars.</p>

<p>R can be installed <a href="http://cran.r-project.org/">here on its website</a>. Windows users will want to select <a href="http://cran.r-project.org/bin/windows/base/">“base”</a> to install the latest version of R.<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup></p>

<p>For first-time users, I strongly recommend getting a graphical user interface (GUI) front-end for R. The best option is <a href="http://www.rstudio.com/products/rstudio/#Desk">Rstudio</a>. Install the base R programming language, then install Rstudio.</p>

<ol>
  <li><a href="#whatamilookingat">What Am I Looking At?</a></li>
  <li><a href="#knowwhereyouare">Know Where You Are in R</a></li>
  <li><a href="#startingtodostuff">Starting to do Stuff in R</a></li>
  <li><a href="#installingandloading">Installing and Loading Packages in R</a></li>
  <li><a href="#runninganrscript">Running an R Script</a></li>
  <li><a href="#specifyingaregression">Specifying a Regression Model in R</a></li>
</ol>

<h2 id="whatamilookingat">What Am I Looking At?</h2>

<p>The first thing first-time users of R may notice is that R is not a “push button, receive analyses” interface. In fact, R is less a “program” and more a programming language. If you open Rstudio, you will see something like this.</p>

<dl class="wp-caption align" style="max-width: 950px">

<dt><a href=""><img class="" src="/images/rstudio.png" alt="Rstudio interface (click to embiggen)" /></a></dt>

<dd>Rstudio interface (click to embiggen)</dd>
</dl>

<p>The upper left panel is an R terminal, the base around which the Rstudio program operates. The bottom left panel is an R script window, in which you can run commands into R. The upper right panel allow the user to see things like objects in the current R session (more on”objects” later). The bottom right panel includes various things like a tab for plots the user may have created and what packages are currently installed. A file browser is also there if the user wants it.</p>

<h2 id="knowwhereyouare">Know Where You Are in R</h2>

<p>After understanding what you are seeing when you open an R terminal (or Rstudio), the next step is to know where R‘s working directory is. You can do this with the <code class="language-plaintext highlighter-rouge">getwd()</code> command. For example, my version of R in Linux has this as my default working directory.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">getwd</span><span class="p">()</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"/home/steve"</span></code></pre></figure>

<p>Windows users will see something like this.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">getwd</span><span class="p">()</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"C:/Users/Steve/Documents"</span></code></pre></figure>

<p>Windows users should notice that R, like everything else in the world, sees forward slashes (/) and not backslashes (). Windows continued use of backslashes in its file system <a href="http://www.howtogeek.com/181774/why-windows-uses-backslashes-and-everything-else-uses-forward-slashes/">owes to its past in DOS</a>. Linux and Mac are derivative of Unix. Nonetheless, Windows users should note that specifying a working directory in R requires forward slashes and not backslashes.</p>

<p>Specifying a new working directory can be done with the the <code class="language-plaintext highlighter-rouge">setwd()</code> command. For example, here is my working directory for the analyses I am doing for one of my current manuscripts.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">setwd</span><span class="p">(</span><span class="s2">"/home/steve/Dropbox/projects/tolerance-corruption/analysis"</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">getwd</span><span class="p">()</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"/home/steve/Dropbox/projects/tolerance-corruption/analysis"</span></code></pre></figure>

<p>Doing everything in Dropbox is part of a workflow talk I intend to give soon. You can specify your working directory to be whatever you want, as long as it refers to an actual directory in your file system. For example, this would give me an error.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">setwd</span><span class="p">(</span><span class="s2">"/home/steve/Dropbox/daves-not-here-man"</span><span class="p">)</span><span class="w">
</span><span class="n">Error</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">setwd</span><span class="p">(</span><span class="s2">"/home/steve/Dropbox/daves-not-here-man"</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> 
  </span><span class="n">cannot</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">working</span><span class="w"> </span><span class="n">directory</span></code></pre></figure>

<p>R is also case-sensitive and requires working directories to be set in quotation marks. Observe the following output.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">setwd</span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">steve</span><span class="p">)</span><span class="w">
</span><span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">unexpected</span><span class="w"> </span><span class="s1">'/'</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">"setwd(/"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setwd</span><span class="p">(</span><span class="s2">"/home/STEVE"</span><span class="p">)</span><span class="w">
</span><span class="n">Error</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">setwd</span><span class="p">(</span><span class="s2">"/home/STEVE"</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">working</span><span class="w"> </span><span class="n">directory</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setwd</span><span class="p">(</span><span class="s2">"/home/steve"</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">getwd</span><span class="p">()</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"/home/steve"</span></code></pre></figure>

<p>Specifying a new working directory for the sake of my quantitative methods class is optional. Knowing the current working directory is important since that is where R will look for files by default and where R will save any files.</p>

<h2 id="startingtodostuff">Starting to do Stuff in R</h2>

<p>An important part to understanding R is that R is an <a href="http://en.wikipedia.org/wiki/Object-oriented_programming">object-oriented programming language</a>. A helpful way of thinking about this is that input is assigned to an output using various classes and methods. For example, if I were to type hello into an R terminal for a session that I just started, I would receive this output.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">hello</span><span class="w">
</span><span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="s1">'hello'</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">found</span></code></pre></figure>

<p>This is because <code class="language-plaintext highlighter-rouge">hello</code> is not a built-in object in R, like, say, <code class="language-plaintext highlighter-rouge">pi</code>.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="nb">pi</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">3.141593</span></code></pre></figure>

<p>I could, however, assign an input to a new object called <code class="language-plaintext highlighter-rouge">hello</code>. For example, I could create a vector of ten numbers drawn randomly from a normal distribution with a mean of 0 and a standard deviation of 1 as an object titled <code class="language-plaintext highlighter-rouge">hello</code>.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">hello</span><span class="w">  </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">rnorm</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">hello</span><span class="w">
 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">0.002107005</span><span class="w"> </span><span class="m">-0.024397830</span><span class="w"> </span><span class="m">-0.006861523</span><span class="w">  </span><span class="m">0.538063485</span><span class="w"> </span><span class="m">-0.912956921</span><span class="w"> </span><span class="m">-1.022940134</span><span class="w">  </span><span class="m">0.075493593</span><span class="w">  </span><span class="m">0.598293193</span><span class="w">  </span><span class="m">0.190683486</span><span class="w"> </span><span class="m">-1.007443455</span></code></pre></figure>

<p>Or, because this is my guide on my website and I can put what I want on it:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">hello</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"annyong"</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">hello</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"annyong"</span></code></pre></figure>

<p>Be careful with what you call your objects, though.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="nb">pi</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">rnorm</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nb">pi</span><span class="w">
 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">0.10700040</span><span class="w">  </span><span class="m">0.70122694</span><span class="w"> </span><span class="m">-0.96684009</span><span class="w"> </span><span class="m">-0.48112220</span><span class="w"> </span><span class="m">-0.57755359</span><span class="w">  </span><span class="m">1.02820036</span><span class="w"> </span><span class="m">-0.51794291</span><span class="w">  </span><span class="m">0.02571443</span><span class="w"> </span><span class="m">-0.17328885</span><span class="w"> </span><span class="m">-0.10942836</span></code></pre></figure>

<p>Generally, you can call your objects whatever you want. Avoid naming objects things like “pi”, “T”, “TRUE”, “F”, or “FALSE”. This is an incomplete list, but hopefully it gives a student a place to start.</p>

<p>As a rule of thumb, I prefer shorthand in R where objects that begin with capital letters refer to data frames and objects with lower-case letters refer to variables or free-standing vectors. This is completely optional, but it helps me keep track of what are my objects in an R session.</p>

<p>You may also notice in my R scripts the appearance of dollar signs. In R, a dollar sign indicates a vector (i.e. a column) of a data frame. For example, looks at this line in my R script on American attitudes toward abortion in World Values Survey data.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">Data</span><span class="o">$</span><span class="n">z.age</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">with</span><span class="p">(</span><span class="n">Data</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">age</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">mean</span><span class="p">(</span><span class="n">age</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">))</span><span class="o">/</span><span class="p">(</span><span class="m">2</span><span class="o">*</span><span class="n">sd</span><span class="p">(</span><span class="n">age</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)))</span></code></pre></figure>

<p>This means I created a new column (<code class="language-plaintext highlighter-rouge">z.age</code>) in a data frame (<code class="language-plaintext highlighter-rouge">Data</code>) that is a standardized scale of the age variable in the same data frame.</p>

<p>R requires assigning an input to an object with either an equal sign (<code class="language-plaintext highlighter-rouge">=</code>) or a left arrow (<code class="language-plaintext highlighter-rouge">&lt;-</code>) to keep the object stored in the current R session. The student can always choose to not assign an output to an input if the student just wants to see something once. For example, R makes a great calculator and I find myself firing up an R session just to solve a quick math problem. Here is an example:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="m">58</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1.96</span><span class="o">*</span><span class="p">(</span><span class="m">17.8</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">92.888</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="m">58</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">1.96</span><span class="o">*</span><span class="p">(</span><span class="m">17.8</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">23.112</span></code></pre></figure>

<h2 id="installingandloading">Installing and Loading Packages</h2>

<p>R has hundreds upon hundreds of packages that can be installed for your use. My class will use the following packages. The <code class="language-plaintext highlighter-rouge">install.packages()</code> command will install these packages and whatever additional dependencies are required. In Rstudio, you can do this in the “Packages” tab located in the bottom right panel. Or, you can enter it manually into an R terminal like this.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">install.packages</span><span class="p">(</span><span class="s2">"RCurl"</span><span class="p">)</span><span class="w">
</span><span class="n">install.packages</span><span class="p">(</span><span class="s2">"WDI"</span><span class="p">)</span><span class="w">
</span><span class="n">install.packages</span><span class="p">(</span><span class="s2">"countrycode"</span><span class="p">)</span><span class="w">
</span><span class="n">install.packages</span><span class="p">(</span><span class="s2">"reshape"</span><span class="p">)</span><span class="w">
</span><span class="n">install.packages</span><span class="p">(</span><span class="s2">"lattice"</span><span class="p">)</span><span class="w">
</span><span class="n">install.packages</span><span class="p">(</span><span class="s2">"Zelig"</span><span class="p">)</span><span class="w">
</span><span class="n">install.packages</span><span class="p">(</span><span class="s2">"lme4"</span><span class="p">)</span></code></pre></figure>

<p>RCurl will allow students to read data from my Github account. WDI and countrycode are two quite useful packages created by <a href="https://github.com/vincentarelbundock">Vincent Arel-Bundock</a> at the University of Michigan. Respectively, they grab data from the World Bank’s data repository and convert a variety of country names into Correlates of War codes. I use these for the first problem set I assign. reshape does a variety of things, including allowing for easy renaming of columns in a data frame. lattice creates a nicer histogram than what is default in R.</p>

<p>Zelig and lme4 are packages that I use for the third problem set. Zelig does a variety of useful things, especially simulating of quantities of interest after estimating a statistical model. lme4 allows for the estimation of  advanced mixed effects models.</p>

<p>It is worth reiterating that installing a package as a library and loading the package as a library for the current R session are two different things. After a package is installed, it must be loaded into the current R session. This is done with the <code class="language-plaintext highlighter-rouge">library()</code> command. For example, the first problem set requires the WDI, countrycode, lattice and reshape libraries.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">WDI</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">countrycode</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">reshape</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">lattice</span><span class="p">)</span></code></pre></figure>

<p>If you try to load a library without previously installing it, you’ll get an error message like this.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">library</span><span class="p">(</span><span class="n">RCurl</span><span class="p">)</span><span class="w">
</span><span class="n">Error</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">library</span><span class="p">(</span><span class="n">RCurl</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="err">‘</span><span class="n">RCurl</span><span class="err">’</span></code></pre></figure>

<h2 id="runninganrscript">Running an R Script</h2>

<p>Students in my class can visit <a href="https://github.com/svmiller">my Github page</a> and find one of the three <a href="https://github.com/svmiller?tab=repositories">repositories</a> associated with a particular problem set I assign for homework. Each repository includes an R script that, for all intents and purposes, does the homework for the student. The student simply runs the script, sees the output, and answers the questions based off what s/he sees.</p>

<p>To that end, the student can save an R script from my Github by selecting on the appropriate repository, selecting the R script (with <code class="language-plaintext highlighter-rouge">.R</code> extension), right-clicking “Raw” and saving to the hard drive. The student can also see the input in Github and copy-paste it to an R script window in Rstudio.</p>

<p>From there, executing the R script from the R script window in Rstudio is straightforward. <code class="language-plaintext highlighter-rouge">Cmd-Enter</code> runs a line of script in Rstudio using Mac. For Linux and Windows users, this is a simple <code class="language-plaintext highlighter-rouge">Ctrl-Enter</code>. You can select several lines in your R script window and run them with this command as well. You can also execute the entire script with <code class="language-plaintext highlighter-rouge">Cmd-Shift-Enter</code> in Mac and <code class="language-plaintext highlighter-rouge">Ctrl-Shift-Enter</code> in Linux and Windows. For example, I ran the first few lines of the R script associated with the first problem set. This is what the output looks like. Notice the histogram in the bottom right corner.</p>

<dl class="wp-caption align" style="max-width: 950px">

<dt><a href=""><img class="" src="/images/rstudio-example.png" alt="Rstudio interface (click to embiggen)" /></a></dt>

<dd>Rstudio interface (click to embiggen)</dd>
</dl>

<p>That’s really all there is to it for the sake of the classes that I teach that introduce the R programming languages. R is more daunting than it is in actuality because it is a command-line based interface. The student is encouraged to meet with me during office hours if there are still remaining questions.</p>

<h2 id="specifyingaregression">Specifying a Regression Model in R</h2>

<p>To illustrate how to do an applied statistical analysis in R, this guide will conclude with specifying a basic logistic regression. The data for this exercise will come from the Zelig package, which has a built-in data set called <code class="language-plaintext highlighter-rouge">voteincome</code>. Let’s call it into R.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">library</span><span class="p">(</span><span class="n">Zelig</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">data</span><span class="p">(</span><span class="n">voteincome</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">summary</span><span class="p">(</span><span class="n">voteincome</span><span class="p">)</span></code></pre></figure>

<p>I suppress the summary output for presentation. The <a href="http://cran.r-project.org/web/packages/Zelig/Zelig.pdf">reference manual for the package</a> on CRAN provides a summary of the data. The data come from the <a href="https://www.census.gov/prod/techdoc/cps/cpsnov00.pdf">2000 Current Population Survey</a> and are limited to two states (Arkansas and South Carolina) for illustration of the package. <code class="language-plaintext highlighter-rouge">vote</code> is a dummy variable that assumes a 1 if the respondent says she or he voted in the November 7th election.<sup id="fnref:2"><a href="#fn:2" class="footnote">2</a></sup> <code class="language-plaintext highlighter-rouge">income</code> is an ordinal variable that ranges from 4 (makes less than $5,000) to 17 (makes more than $75,000). <code class="language-plaintext highlighter-rouge">education</code> is an ordinal variable that ranges from 1 (did not complete high school) to 4 (more than a college education). <code class="language-plaintext highlighter-rouge">age</code> and <code class="language-plaintext highlighter-rouge">female</code> should be self-explanatory.</p>

<p>Let’s look at just South Carolina for this exercise since that is where I live now. We’ll subset <code class="language-plaintext highlighter-rouge">voteincome</code> to just South Carolina and call it a new object <code class="language-plaintext highlighter-rouge">Data</code>. Recall, my preferred shorthand for objects in R is objects that begin with capital letters refer to data frames and objects with all-lower case letters refer to variables or free-floating vectors.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">Data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">voteincome</span><span class="p">,</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s2">"AR"</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">summary</span><span class="p">(</span><span class="n">Data</span><span class="p">)</span></code></pre></figure>

<p>Let’s specify a regression model explaining an individual South Carolinian’s decision to vote in the 2000 general election. We will use all relevant predictor variables.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">M1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">glm</span><span class="p">(</span><span class="n">vote</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">female</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">income</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">education</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="n">Data</span><span class="p">,</span><span class="w"> </span><span class="n">family</span><span class="o">=</span><span class="n">binomial</span><span class="p">(</span><span class="n">link</span><span class="o">=</span><span class="s2">"logit"</span><span class="p">))</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">summary</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span><span class="w">
</span><span class="n">Call</span><span class="o">:</span><span class="w">
</span><span class="n">glm</span><span class="p">(</span><span class="n">formula</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vote</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">female</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">income</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">education</span><span class="p">,</span><span class="w"> </span><span class="n">family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">binomial</span><span class="p">(</span><span class="n">link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"logit"</span><span class="p">),</span><span class="w"> 
    </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Data</span><span class="p">)</span><span class="w">

</span><span class="n">Deviance</span><span class="w"> </span><span class="n">Residuals</span><span class="o">:</span><span class="w"> 
    </span><span class="n">Min</span><span class="w">       </span><span class="m">1</span><span class="n">Q</span><span class="w">   </span><span class="n">Median</span><span class="w">       </span><span class="m">3</span><span class="n">Q</span><span class="w">      </span><span class="n">Max</span><span class="w">  
</span><span class="m">-2.4178</span><span class="w">   </span><span class="m">0.3763</span><span class="w">   </span><span class="m">0.4540</span><span class="w">   </span><span class="m">0.5430</span><span class="w">   </span><span class="m">0.9196</span><span class="w">  

</span><span class="n">Coefficients</span><span class="o">:</span><span class="w">
             </span><span class="n">Estimate</span><span class="w"> </span><span class="n">Std.</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">Pr</span><span class="p">(</span><span class="o">&gt;|</span><span class="n">z</span><span class="o">|</span><span class="p">)</span><span class="w">    
</span><span class="p">(</span><span class="n">Intercept</span><span class="p">)</span><span class="w"> </span><span class="m">-0.331963</span><span class="w">   </span><span class="m">0.498973</span><span class="w">  </span><span class="m">-0.665</span><span class="w"> </span><span class="m">0.505864</span><span class="w">    
</span><span class="n">age</span><span class="w">          </span><span class="m">0.006639</span><span class="w">   </span><span class="m">0.005690</span><span class="w">   </span><span class="m">1.167</span><span class="w"> </span><span class="m">0.243328</span><span class="w">    
</span><span class="n">female</span><span class="w">       </span><span class="m">0.373736</span><span class="w">   </span><span class="m">0.196091</span><span class="w">   </span><span class="m">1.906</span><span class="w"> </span><span class="m">0.056659</span><span class="w"> </span><span class="n">.</span><span class="w">  
</span><span class="n">income</span><span class="w">       </span><span class="m">0.099773</span><span class="w">   </span><span class="m">0.028194</span><span class="w">   </span><span class="m">3.539</span><span class="w"> </span><span class="m">0.000402</span><span class="w"> </span><span class="o">***</span><span class="w">
</span><span class="n">education</span><span class="w">    </span><span class="m">0.204404</span><span class="w">   </span><span class="m">0.115985</span><span class="w">   </span><span class="m">1.762</span><span class="w"> </span><span class="m">0.078013</span><span class="w"> </span><span class="n">.</span><span class="w">  
</span><span class="o">---</span><span class="w">
</span><span class="n">Signif.</span><span class="w"> </span><span class="n">codes</span><span class="o">:</span><span class="w">  </span><span class="m">0</span><span class="w"> </span><span class="err">‘</span><span class="o">***</span><span class="err">’</span><span class="w"> </span><span class="m">0.001</span><span class="w"> </span><span class="err">‘</span><span class="o">**</span><span class="err">’</span><span class="w"> </span><span class="m">0.01</span><span class="w"> </span><span class="err">‘</span><span class="o">*</span><span class="err">’</span><span class="w"> </span><span class="m">0.05</span><span class="w"> </span><span class="err">‘</span><span class="n">.</span><span class="err">’</span><span class="w"> </span><span class="m">0.1</span><span class="w"> </span><span class="err">‘</span><span class="w"> </span><span class="err">’</span><span class="w"> </span><span class="m">1</span></code></pre></figure>

<p>What we did was simple. We used the <code class="language-plaintext highlighter-rouge">glm()</code> function to regress vote on (i.e. <code class="language-plaintext highlighter-rouge">~</code>) a linear combination of <code class="language-plaintext highlighter-rouge">age</code>, <code class="language-plaintext highlighter-rouge">female</code>, <code class="language-plaintext highlighter-rouge">income</code>, and <code class="language-plaintext highlighter-rouge">education</code>. Afterward (i.e. <code class="language-plaintext highlighter-rouge">,</code>) we specified that the data to be used for the regression should come from the object we created and called <code class="language-plaintext highlighter-rouge">Data</code> from just the South Carolinian respondents. Then (i.e. <code class="language-plaintext highlighter-rouge">,</code> again) we specified the family of generalized linear model to use. We wanted logistic regression (<code class="language-plaintext highlighter-rouge">family=binomial(link="logit")</code>) in lieu of <a href="http://stat.ethz.ch/R-manual/R-patched/library/stats/html/family.html">some other link function in the same family</a>.</p>

<p>Briefly, the results suggest that gender, income, and education all have a statistically significant effect on a South Carolinian’s decision to vote in the 2000 general election. Women are more likely to vote and the more educated are more likely to vote.<sup id="fnref:3"><a href="#fn:3" class="footnote">3</a></sup> Wealthier South Carolinians are more likely to say they vote than poorer South Carolinians.</p>

<p><code class="language-plaintext highlighter-rouge">age</code> has no statistically significant effect on voting, which is curious. What if a simple measure for age is masking a curvilinear effect? I respecified the model to include a square term for age with the <code class="language-plaintext highlighter-rouge">I()</code> function, which can force through a variable <a href="http://stat.ethz.ch/R-manual/R-devel/library/base/html/AsIs.html">“as is”</a>. This is a useful way of adding quadratic terms to a regression formula without having to create new variables that are clearly not independent of the constituent term (here: <code class="language-plaintext highlighter-rouge">age</code>, the most common variable in survey research that appears as a square term). My suggestion of a curvilinear effect is supported in the results that follow.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">M2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">glm</span><span class="p">(</span><span class="n">vote</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">I</span><span class="p">(</span><span class="n">age</span><span class="o">^</span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">female</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">income</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">education</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="n">Data</span><span class="p">,</span><span class="w"> </span><span class="n">family</span><span class="o">=</span><span class="n">binomial</span><span class="p">(</span><span class="n">link</span><span class="o">=</span><span class="s2">"logit"</span><span class="p">))</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">summary</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span><span class="w">

</span><span class="n">Call</span><span class="o">:</span><span class="w">
</span><span class="n">glm</span><span class="p">(</span><span class="n">formula</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vote</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">I</span><span class="p">(</span><span class="n">age</span><span class="o">^</span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">female</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">income</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">education</span><span class="p">,</span><span class="w"> 
    </span><span class="n">family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">binomial</span><span class="p">(</span><span class="n">link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"logit"</span><span class="p">),</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Data</span><span class="p">)</span><span class="w">

</span><span class="n">Deviance</span><span class="w"> </span><span class="n">Residuals</span><span class="o">:</span><span class="w"> 
    </span><span class="n">Min</span><span class="w">       </span><span class="m">1</span><span class="n">Q</span><span class="w">   </span><span class="n">Median</span><span class="w">       </span><span class="m">3</span><span class="n">Q</span><span class="w">      </span><span class="n">Max</span><span class="w">  
</span><span class="m">-2.5326</span><span class="w">   </span><span class="m">0.3413</span><span class="w">   </span><span class="m">0.4231</span><span class="w">   </span><span class="m">0.5471</span><span class="w">   </span><span class="m">1.0125</span><span class="w">  

</span><span class="n">Coefficients</span><span class="o">:</span><span class="w">
              </span><span class="n">Estimate</span><span class="w"> </span><span class="n">Std.</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">Pr</span><span class="p">(</span><span class="o">&gt;|</span><span class="n">z</span><span class="o">|</span><span class="p">)</span><span class="w">    
</span><span class="p">(</span><span class="n">Intercept</span><span class="p">)</span><span class="w"> </span><span class="m">-2.7010553</span><span class="w">  </span><span class="m">0.7218704</span><span class="w">  </span><span class="m">-3.742</span><span class="w"> </span><span class="m">0.000183</span><span class="w"> </span><span class="o">***</span><span class="w">
</span><span class="n">age</span><span class="w">          </span><span class="m">0.1320099</span><span class="w">  </span><span class="m">0.0288877</span><span class="w">   </span><span class="m">4.570</span><span class="w"> </span><span class="m">4.88e-06</span><span class="w"> </span><span class="o">***</span><span class="w">
</span><span class="n">I</span><span class="p">(</span><span class="n">age</span><span class="o">^</span><span class="m">2</span><span class="p">)</span><span class="w">    </span><span class="m">-0.0012592</span><span class="w">  </span><span class="m">0.0002849</span><span class="w">  </span><span class="m">-4.420</span><span class="w"> </span><span class="m">9.87e-06</span><span class="w"> </span><span class="o">***</span><span class="w">
</span><span class="n">female</span><span class="w">       </span><span class="m">0.3306201</span><span class="w">  </span><span class="m">0.1978679</span><span class="w">   </span><span class="m">1.671</span><span class="w"> </span><span class="m">0.094739</span><span class="w"> </span><span class="n">.</span><span class="w">  
</span><span class="n">income</span><span class="w">       </span><span class="m">0.0786490</span><span class="w">  </span><span class="m">0.0289024</span><span class="w">   </span><span class="m">2.721</span><span class="w"> </span><span class="m">0.006505</span><span class="w"> </span><span class="o">**</span><span class="w"> 
</span><span class="n">education</span><span class="w">    </span><span class="m">0.1940867</span><span class="w">  </span><span class="m">0.1167682</span><span class="w">   </span><span class="m">1.662</span><span class="w"> </span><span class="m">0.096482</span><span class="w"> </span><span class="n">.</span><span class="w">  
</span><span class="o">---</span><span class="w">
</span><span class="n">Signif.</span><span class="w"> </span><span class="n">codes</span><span class="o">:</span><span class="w">  </span><span class="m">0</span><span class="w"> </span><span class="err">‘</span><span class="o">***</span><span class="err">’</span><span class="w"> </span><span class="m">0.001</span><span class="w"> </span><span class="err">‘</span><span class="o">**</span><span class="err">’</span><span class="w"> </span><span class="m">0.01</span><span class="w"> </span><span class="err">‘</span><span class="o">*</span><span class="err">’</span><span class="w"> </span><span class="m">0.05</span><span class="w"> </span><span class="err">‘</span><span class="n">.</span><span class="err">’</span><span class="w"> </span><span class="m">0.1</span><span class="w"> </span><span class="err">‘</span><span class="w"> </span><span class="err">’</span><span class="w"> </span><span class="m">1</span></code></pre></figure>

<p>Here is what this curvilinear effect looks like when graphed.</p>

<dl class="wp-caption align" style="max-width: 628px">

<dt><a href=""><img class="" src="/images/age-voting-south-carolina.png" alt="The relationship between age and voting in South Carolina (2000)" /></a></dt>

<dd>The relationship between age and voting in South Carolina (2000)</dd>
</dl>

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>Ubuntu or Fedora users (i.e. Linux users) may want to consider a Debian or Red Hat build and install it as a package, rather than compiling from the source. <a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:2">
      <p>That 85% respondents said they voted, especially in these two states, suggests either a social desirability bias or maybe that <code class="language-plaintext highlighter-rouge">vote</code> also includes those who are registered to vote. <a href="#fnref:2" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:3">
      <p>p &gt; .1, which would lead many political scientists to say that this relationship is not statistically significant. But, whatever. “Statistical significance” is also a <a href="http://www.amazon.com/The-Cult-Statistical-Significance-Economics/dp/0472050079/ref=sr_1_1?ie=UTF8&amp;qid=1407767931&amp;sr=8-1&amp;keywords=ziliak+and+mccloskey">purely arbitrary standard</a> and <a href="http://www.amazon.com/Analysis-Regression-Multilevel-Hierarchical-Models/dp/052168689X/ref=sr_1_1?ie=UTF8&amp;qid=1407767951&amp;sr=8-1&amp;keywords=gelman+and+hill">a function of sample size</a>. <a href="#fnref:3" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

  </article>

<div id="disqus_thread"></div>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'svmiller';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

<!--     <h2 class="footer-heading">Aditya Karanam</h2> -->

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li><strong>Aditya Karanam</strong></li>
			<li>PhD Student</li>
          <li><a href="mailto:aditya_ks@utexas.edu">aditya_ks@utexas.edu</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
 

         <p class="text">
		Department of Information, Risk, & Operations Management,<br />
		McCombs School of Business, <br />
    2110 Speed Way<br />
		Austin, TX 78705</p> <!-- I'm a PhD Student at McCombs School of Business, UT, Austin with research interests in the area of Economics of Information Systems. Specifically, I am interested in New product design and Innovation. Topics on my site include my research interests and teaching.
 -->
      </div>

      <div class="footer-col  footer-col-3">
       <ul class="social-media-list">

                  
     

          
  <li>
    <a href="https://github.com/askaranam">
      <i class="fa fa-github" style="color:gray"></i> Github
    </a>
  </li>


          

          
  <li>
    <a href="https://twitter.com/aditya_karanam">
      <i class="fa fa-twitter" style="color:gray"></i> Twitter
    </a>
  </li>







       
        </ul>
      </div>
    </div>

  </div>

</footer>

		<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-37298398-1']);
	_gaq.push(['_trackPageview']);
	(function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
	</script>
  </body>
</html>
<!-- d.s.m.s.050600.062508.030515.080516.030818; k.050800.101218 | "Baby, I'm Yours" -->

